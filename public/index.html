<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>צ'אט בוט - Renty</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Heebo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .chat-container {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 70vh; /* Ensure it takes up enough vertical space */
        }
        
        .chat-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }
        
        .chat-header h2 {
            margin: 0;
            font-weight: 700;
        }
        
        .chat-header p {
            margin: 0.5rem 0 0 0;
            opacity: 0.9;
        }
        
        .chat-messages {
            flex-grow: 1; /* Allow messages to take available height */
            overflow-y: auto;
            padding: 1rem;
            background: #f8f9fa;
        }
        
        .message {
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
            animation: fadeInUp 0.3s ease;
        }
        
        .message.bot {
            justify-content: flex-start;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .message-content {
            max-width: 70%;
            padding: 0.75rem 1rem;
            border-radius: 18px;
            word-wrap: break-word;
            text-align: right; /* Ensure text aligns right in RTL */
        }
        
        .message.bot .message-content {
            background: white;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .message.user .message-content {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 0.5rem;
            font-size: 1.2rem;
        }
        
        .message.bot .message-avatar {
            background: #28a745;
            color: white;
            order: 1;
        }
        
        .message.user .message-avatar {
            background: #007bff;
            color: white;
            order: 2;
        }
        
        .message.bot .message-content {
            order: 2;
        }
        
        .message.user .message-content {
            order: 1;
        }
        
        .quick-questions {
            padding: 1rem;
            background: white;
            border-top: 1px solid #e9ecef;
        }
        
        .quick-questions h5 {
            margin-bottom: 0.75rem;
            color: #495057;
            font-weight: 600;
        }
        
        .question-btn {
            display: block;
            width: 100%;
            margin-bottom: 0.5rem;
            padding: 0.75rem;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            text-align: right;
            color: #495057;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .question-btn:hover {
            background: #e9ecef;
            border-color: #adb5bd;
            transform: translateY(-1px);
        }
        
        .chat-input {
            padding: 1rem;
            background: white;
            border-top: 1px solid #e9ecef;
        }
        
        .input-group input {
            border-radius: 25px;
            border-right: none;
            padding: 0.75rem 1rem;
        }
        
        .input-group button {
            border-radius: 25px;
            border-left: none;
            background: linear-gradient(135deg, #28a745, #20c997);
            border-color: #28a745;
            color: white;
            transition: all 0.2s ease;
        }
        
        .input-group button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }
        
        .typing-indicator {
            display: none;
            padding: 0.5rem 1rem;
            color: #6c757d;
            font-style: italic;
            text-align: right;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .contact-info {
            background: #e8f5e8;
            padding: 0.75rem;
            border-radius: 8px;
            margin-top: 0.5rem;
            border-right: 4px solid #28a745;
            text-align: right;
        }
        
        .contact-info a {
            color: #155724;
            text-decoration: none;
            font-weight: 500;
        }
        
        .contact-info a:hover {
            text-decoration: underline;
        }

        .suggestion-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
            justify-content: flex-end; /* Align buttons to the right */
        }

        .suggestion-btn {
            background-color: #e0e0e0;
            border: none;
            border-radius: 15px;
            padding: 8px 12px;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.2s;
            text-align: right; /* Ensure text aligns right in RTL */
        }

        .suggestion-btn:hover {
            background-color: #d0d0d0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="chat-container">
            <div class="chat-header">
                <h2><i class="fas fa-robot me-2"></i>צ'אט בוט Renty</h2>
                <p>אני כאן לעזור לכם עם שאלות על השכרת ציוד</p>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    <div class="message-avatar"><i class="fas fa-robot"></i></div>
                    <div class="message-content">
                        שלום! 👋 אני עוזר הווירטואלי של Renty. איך אני יכול לעזור לכם היום?
                        <br><br>
                        אתם יכולים לשאול אותי על:
                        <br>• מצב הציוד ואיכותו
                        <br>• שעות פעילות ותמיכה
                        <br>• קבלה והחזרה של ציוד
                        <br>• משלוחים ואיסוף
                        <br>• הזמנות וביטולים
                        <br>• קטגוריות ומוצרים ספציפיים
                        <br>• וגם, קצת על Renty!
                    </div>
                </div>
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <i class="fas fa-circle-notch fa-spin me-2"></i>העוזר הווירטואלי כותב...
            </div>
            
            <div class="quick-questions">
                <h5><i class="fas fa-question-circle me-2"></i>שאלות נפוצות:</h5>
                <button class="question-btn" onclick="askQuestion('איך מתבצעת השכרת ציוד באתר?')">
                    איך מתבצעת השכרת ציוד באתר?
                </button>
                <button class="question-btn" onclick="askQuestion('מה שעות הפעילות שלכם?')">
                    מה שעות הפעילות שלכם?
                </button>
                <button class="question-btn" onclick="askQuestion('האם יש משלוח עד הבית?')">
                    האם יש משלוח עד הבית?
                </button>
                <button class="question-btn" onclick="askQuestion('מה המצב של הציוד להשכרה?')">
                    מה המצב של הציוד להשכרה?
                </button>
                <button class="question-btn" onclick="askQuestion('אילו קטגוריות ציוד קיימות?')">
                    אילו קטגוריות ציוד קיימות?
                </button>
				<button class="question-btn" onclick="askQuestion('האם יש אחריות על המוצרים?')">
                    האם יש אחריות על המוצרים?
                </button>
                <button class="question-btn" onclick="askQuestion('ספר לי על Renty.')">
                    ספר לי על Renty.
                </button>
            </div>
            
            <div class="chat-input">
                <div class="input-group">
                    <input type="text" class="form-control" id="userInput" placeholder="כתבו את השאלה שלכם כאן..." onkeypress="handleEnter(event)">
                    <button class="btn" type="button" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
<script>
	async function sendMessageToServer(message) {
    const response = await fetch("/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message })

    });

    const data = await response.json();
    return data.text;
}
</script>
<script>
async function sendMessage() {
  const input = document.getElementById("userInput");
  const message = input.value.trim();
  if (!message) return;

  const chatMessages = document.getElementById("chatMessages");

  // הודעת משתמש
  const userMsg = document.createElement("div");
  userMsg.className = "message user";
  userMsg.innerHTML = `
    <div class="message-content">${message}</div>
    <div class="message-avatar"><i class="fas fa-user"></i></div>
  `;
  chatMessages.appendChild(userMsg);
  input.value = "";
  document.getElementById("typingIndicator").style.display = "block";

  const botMsg = document.createElement("div");
  botMsg.className = "message bot";

  try {
    const response = await fetch("https://rentychatbotserver.onrender.com/chat", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
  },
  body: JSON.stringify({ message: message })

});


    const data = await response.json();
    botMsg.innerHTML = `
      <div class="message-avatar"><i class="fas fa-robot"></i></div>
      <div class="message-content">${data.text}</div>
    `;
  } catch (err) {
    botMsg.innerHTML = `
      <div class="message-avatar"><i class="fas fa-robot"></i></div>
      <div class="message-content">מצטער, ארעה שגיאה בעת שליחת ההודעה.</div>
    `;
  }

  chatMessages.appendChild(botMsg);
  document.getElementById("typingIndicator").style.display = "none";
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

</script>

    <script>
        function appendMessage(content, sender = 'bot') {
            const chatMessages = document.getElementById('chatMessages');
            const msg = document.createElement('div');
            msg.className = 'message ' + sender;
            msg.innerHTML = `
                <div class="message-avatar">
                    <i class="fas ${sender === 'user' ? 'fa-user' : 'fa-robot'}"></i>
                </div>
                <div class="message-content">${content}</div>
            `;
            chatMessages.appendChild(msg);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        
    </script>
	<script>
async function askQuestion(question) {
  const messagesContainer = document.getElementById("chatMessages");

  // הוספת הודעת המשתמש
  const userMessage = document.createElement("div");
  userMessage.className = "message user";
  userMessage.innerHTML = `
    <div class="message-content">${question}</div>
    <div class="message-avatar"><i class="fas fa-user"></i></div>
  `;
  messagesContainer.appendChild(userMessage);

  // תשובה מה-FAQ
  const faqAnswer = getAnswerFromFAQ(question);
  const botMessage = document.createElement("div");
  botMessage.className = "message bot";

  if (faqAnswer) {
    botMessage.innerHTML = `
      <div class="message-avatar"><i class="fas fa-robot"></i></div>
      <div class="message-content">${faqAnswer}</div>
    `;
  } else {
    try {
const response = await fetch("https://rentychatbotserver.onrender.com/chat", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
  },
  body: JSON.stringify({ message: question }) // ✅ במקום userMessage
});

      const data = await response.json();
      botMessage.innerHTML = `
        <div class="message-avatar"><i class="fas fa-robot"></i></div>
        <div class="message-content">${data.text}</div>
      `;
    } catch (err) {
      botMessage.innerHTML = `
        <div class="message-avatar"><i class="fas fa-robot"></i></div>
        <div class="message-content">מצטער, ארעה שגיאה בעת ניסיון לקבל תשובה מהשרת.</div>
      `;
    }
  }

  messagesContainer.appendChild(botMessage);
  messagesContainer.scrollTop = messagesContainer.scrollHeight;
}


  function getAnswerFromFAQ(question) {
  question = question.trim();

  // חיפוש מותאם רך
  for (let key in faqAnswers) {
    if (question.includes(key) || key.includes(question)) {
      return faqAnswers[key];
    }
  }

  // לא נמצאה תשובה ידנית
  return null;
}
</script>
<script>
const faqAnswers = {
  "איך מתבצעת השכרת ציוד באתר?": "השכרת ציוד באתר מתבצעת על ידי בחירת הציוד הרצוי, קביעת תאריך וזמן, והשלמת ההזמנה דרך עגלת הקניות והתשלום.",
  "מה שעות הפעילות שלכם?": "שעות הפעילות הן ימים א'-ה' בין 09:00 ל-18:00, וימי שישי בין 09:00 ל-13:00.",
  "האם יש משלוח עד הבית?": "כן! אנו מציעים שירות משלוחים עד הבית או לכל כתובת שתבחרו, בתוספת תשלום לפי מרחק.",
  "מה המצב של הציוד להשכרה?": "כל הציוד באתר עובר בדיקות איכות וניקיון יסודיות לפני ואחרי כל השכרה, כדי להבטיח תקינות מלאה.",
  "אילו קטגוריות ציוד קיימות?": "הקטגוריות כוללות: ציוד לאירועים, צילום, מחנאות, תאורה והגברה, גימיקים, ועוד.",
  "ספר לי על Renty.": "Renty היא פלטפורמה חדשנית להשכרת ציוד בקלות ובמהירות – עם שירות לקוחות מקצועי, משלוחים, ותמיכה מלאה לאורך כל התהליך.",
  "האם יש אחריות על המוצרים?": "האחריות הינה באחריות הלקוח, אך ניתן להפעיל שירות ביטוח מטעם החברה בתשלום נוסף"
};



  function handleEnter(event) {
    if (event.key === "Enter") {
      sendMessage();
    }
  }


</script>
<script>
async function getDialogflowFallback(message) {
    const API_ENDPOINT = "https://rentychatbotserver.onrender.com/chat"; // Consider moving to an environment variable

    try {
        const response = await fetch(API_ENDPOINT, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message })
        });

        if (!response.ok) {
            // If the server responded with an error status (e.g., 4xx or 5xx)
            const errorDetails = await response.json().catch(() => ({ message: "No error details available" }));
            console.error(`Server error during Dialogflow fallback: ${response.status} ${response.statusText}`, errorDetails);
            throw new Error(`Server responded with status ${response.status}`);
        }

        const data = await response.json();
        return data;

    } catch (error) {
        console.error("שגיאה בתקשורת עם שרת ה-Dialogflow:", error); // More specific error message
        return {
            text: "אירעה תקלה בעת טעינת התשובה. נסה שוב בעוד רגע 🙏",
            suggestions: ["איך זה עובד?", "מה אפשר לשכור?"]
        };
    }
}
        // Placeholder for Firebase configuration - replace with your actual config
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Initialize Firebase (only if you intend to use Firebase for real product lookup)
        // firebase.initializeApp(firebaseConfig);
        // const database = firebase.database();

        // Mock product database for demonstration (replace with actual Firebase calls)
        const mockProductDB = {
            "אקדח עיסוי": { category: "ציוד ספורט", link: "SportList.html", description: "אקדח עיסוי מקצועי לשחרור שרירים, מתאים לספורטאים ולשימוש יומיומי. מגיע עם ראשים מתחלפים לטיפול ממוקד." },
            "מיקסר": { category: "ציוד למטבח", link: "kitchenList.html", description: "מיקסר מקצועי וחזק המתאים לאפייה ובישול. כולל קערת נירוסטה ומגוון ווים." },
            "מקרן": { category: "ציוד טכנולוגי", link: "techList.html", description: "מקרן איכותי למצגות, סרטים ואירועים. תומך בחיבורי HDMI ו-USB ומספק תמונה בהירה וחדה." },
            "כסא משרדי": { category: "ציוד משרדי", link: "officeList.html", description: "כסא משרדי ארגונומי ונוח במיוחד, מתאים לישיבה ממושכת. כולל תמיכה לגב תחתון ומשענות יד מתכווננות." },
            "מצלמת אבטחה": { category: "ציוד לבית", link: "homeList.html", description: "מצלמת אבטחה אלחוטית עם ראיית לילה וזיהוי תנועה. קלה להתקנה וכוללת אפליקציה לשליטה מרחוק." },
            "עגלת תינוק": { category: "ציוד לתינוקות", link: "babyList.html", description: "עגלת תינוק קלה וקומפקטית, מתאימה לנסיעות ולשימוש יומיומי. כוללת סל אחסון גדול וקיפול מהיר." },
            "מכונת כביסה ניידת": { category: "ציוד לבית", link: "homeList.html", description: "מכונת כביסה קומפקטית וניידת, אידיאלית לטיולים, קמפינג או דירות קטנות. קלה לתפעול וחסכונית במים." },
            "מתקן האכלה אוטומטי לחיות מחמד": { category: "ציוד לחיות מחמד", link: "PetList.html", description: "מתקן האכלה אוטומטי המאפשר לתכנת זמני ארוחות וכמויות. מתאים לחתולים וכלבים קטנים-בינוניים." },
            "מטען נייד": { category: "ציוד לנסיעות", link: "travelList.html", description: "מטען נייד (פאור בנק) עוצמתי בנפח 20,000mAh, מתאים להטענת טלפונים, טאבלטים ומכשירים נוספים בדרכים." },
            "רמקול נייד": { category: "ציוד לאירועים", link: "EventList.html", description: "רמקול נייד בלוטות' איכותי עם סאונד עשיר וחיי סוללה ארוכים. מושלם למסיבות, פיקניקים ואירועים קטנים." },
            "מפתח שוודי": { category: "ציוד לשיפוצים", link: "UpgradeList.html", description: "מפתח שוודי מקצועי ועמיד, מתאים למגוון עבודות תיקון והרכבה בבית." },
            "גיטרה חשמלית": { category: "ציוד מוזיקה", link: "musicList.html", description: "גיטרה חשמלית למתחילים או לנגנים מנוסים. מגיעה עם נרתיק ונשמח לצרף גם מגבר קטן במידת הצורך." },
            "טאבלט": { category: "ציוד טכנולוגי", link: "techList.html", description: "טאבלט מהיר ונוח לשימוש, אידיאלי לגלישה, לימודים, עבודה או בידור." },
            "אוהל לשניים": { category: "ציוד קמפינג", link: "CampingList.html", description: "אוהל קומפקטי וקל משקל המתאים לשני אנשים. אידיאלי לטיולי שטח קצרים ונוח להרכבה." },
            "אוהל לארבעה": { category: "ציוד קמפינג", link: "CampingList.html", description: "אוהל משפחתי מרווח המתאים לארבעה אנשים. מספק נוחות מרבית לקמפינג וכולל אזור שינה ואחסון." },
            "אוהל קמפינג גדול": { category: "ציוד קמפינג", link: "CampingList.html", description: "אוהל קמפינג גדול המתאים לקבוצות או למשפחות גדולות. עמיד בתנאי שטח שונים ומספק מרחב רב." },
            "מזרן יוגה": { category: "ציוד ספורט", link: "SportList.html", description: "מזרן יוגה איכותי ועבה במיוחד, מספק נוחות ותמיכה מרבית לאימוני יוגה ופילאטיס." },
            "מזרן ספורט": { category: "ציוד ספורט", link: "SportList.html", description: "מזרן ספורט עמיד ונוח, מתאים למגוון אימונים ופעילויות גופניות בבית ובחוץ." },
            "מזרן לשינה": { category: "ציוד קמפינג", link: "CampingList.html", description: "מזרן מתנפח נוח לשינה בקמפינג או כאורח בבית. קל לניפוח וקיפול." },
            "גריל חשמלי": { category: "ציוד למטבח", link: "kitchenList.html", description: "גריל חשמלי קומפקטי וקל לניקוי, מושלם לבישול בבית או במרפסת. מתחמם במהירות ומאפשר צלייה אחידה." },
            "מכונת קפה": { category: "ציוד למטבח", link: "kitchenList.html", description: "מכונת קפה איכותית המכינה אספרסו, קפוצ'ינו ולאטה בלחיצת כפתור. מושלמת לאירוח או לשימוש יומיומי." },
            "שואב אבק רובוטי": { category: "ציוד לבית", link: "homeList.html", description: "שואב אבק רובוטי חכם עם ניווט לייזר ושליטה מאפליקציה. מנקה ביעילות רצפות ושטיחים." },
            "ערכת קריוקי": { category: "ציוד לאירועים", link: "EventList.html", description: "ערכת קריוקי מקצועית הכוללת מיקרופונים, רמקול וחיבור לטלוויזיה. מובטחת חוויה מהנה לכל אירוע!" },
            "כיסא גיימינג": { category: "ציוד משרדי", link: "officeList.html", description: "כיסא גיימינג ארגונומי עם תמיכה מלאה ונוחות מרבית לשעות משחק ארוכות. כולל משענות יד מתכווננות וכרית צוואר." },
            "מסך מחשב": { category: "ציוד טכנולוגי", link: "techList.html", description: "מסך מחשב גדול ואיכותי בגודל 27 אינץ' עם רזולוציית Full HD. מתאים לעבודה, לימודים ובידור." }
        };

        let conversationContext = {}; // Object to store conversation context (e.g., last asked category)

        // Function to simulate Firebase lookup
        async function findProductInDB(productName) {
            // In a real scenario, this would be an async call to Firebase
            // return database.ref('products').orderByChild('name').equalTo(productName).once('value')
            //      .then(snapshot => snapshot.val());

            // Mocking for now
            await new Promise(resolve => setTimeout(resolve, 500)); // Simulate network delay
            return mockProductDB[productName];
        }

        const faqData = {
            // הזמנות וביטולים
            "איך מתבצעת השכרת ציוד באתר": "השכרת ציוד באתר Renty פשוטה ומהירה:\n1️⃣ **בחרו את הציוד הרצוי** מהקטלוג העשיר שלנו, לפי קטגוריה או חיפוש ספציפי.\n2️⃣ **בחרו תאריכי השכירות** - כמה זמן אתם צריכים את הציוד? אנחנו גמישים.\n3️⃣ **בחרו באפשרות איסוף עצמי** מהמרכז שלנו או **שירות משלוח עד הבית** (בתוספת תשלום).\n4️⃣ **מלאו פרטי תשלום** מאובטחים ואשרו את ההזמנה.\n5️⃣ **תקבלו אישור במייל** עם כל הפרטים וסיכום ההזמנה.\n\nאנחנו כאן לכל שאלה בתהליך!",
            "האם אפשר לבטל הזמנה": "כן! ניתן לבטל הזמנה עד 24 שעות לפני מועד האיסוף או המשלוח ללא עלות. לביטול פנו אלינו בהקדם:\n📧 **מייל**: orders@renty.co.il\n📞 **טלפון**: 050-123-4567\n\n💡 **שימו לב**: ביטול מעבר ל-24 שעות לפני המועד עלול להיות כרוך בדמי ביטול חלקיים או מלאים, בהתאם למדיניות שלנו.",
            "איך אפשר לשנות הזמנה": "לשינוי הזמנה קיימת, אנא צרו קשר עם שירות הלקוחות שלנו:\n📞 **התקשרו אלינו**: 050-123-4567\n📧 **או שלחו מייל**: orders@renty.co.il\n\n⚠️ **חשוב לדעת**: שינויים בהזמנה תלויים בזמינות הציוד המבוקש בתאריכים החדשים, ויכולים להיות כרוכים בעלות נוספת או שינוי במחיר ההשכרה.",
            "מה צריך כדי להזמין": "כדי להשלים הזמנה בהצלחה ב-Renty תצטרכו:\n• **תעודה מזהה בתוקף** (תעודת זהות / רישיון נהיגה) לצורך אימות זהות.\n• **כרטיס אשראי בתוקף** לתשלום ולביטחונות (לרוב לא נגבה אלא אם יש נזק).\n• **אישור ההזמנה** שישלח אליכם למייל לאחר התשלום.\n\nוזהו! אתם מוכנים לשכור בקלות.",
            "סיכום הזמנה": "בסיום תהליך ההזמנה המקוון, יישלח אליך **סיכום הזמנה מפורט למייל** שציינת. המייל יכלול את כל הפרטים החשובים:\n• רשימת הציוד שהוזמן והכמויות.\n• תאריכי ההשכרה המדויקים.\n• פירוט עלויות ההשכרה ודמי משלוח (אם רלוונטי).\n• פרטי איסוף עצמי או תיאום משלוח.\n\nאנו ממליצים לשמור את המייל לעיון עתידי.",

            // שעות פעילות
            "מה שעות הפעילות": "שעות הפעילות שלנו ב-Renty הן:\n🕘 **ימים א'-ה':** 9:00-18:00\n🕘 **יום ו':** 9:00-14:00\n❌ **שבת:** סגור - אנחנו נחים ונהנים מהציוד ששכרנו!\n\n📞 **מוקד תמיכה טלפוני**: זמין בשעות הפעילות במספר 050-123-4567.\n📧 **תמיכה במייל**: זמינה 24/7, עם מענה מהיר תוך 2-4 שעות בימי עבודה.",
            "מתי אפשר לקבל תמיכה": "אנחנו כאן בשבילכם תמיד! ניתן לקבל תמיכה בדרכים הבאות:\n📞 **תמיכה טלפונית**: בימים א'-ה' בין השעות 9:00-18:00.\n📧 **תמיכה במייל**: support@renty.co.il - זמינה 24/7, ומענה ניתן תוך 2-4 שעות בימי עבודה.\n\n🆘 **למקרי חירום הקשורים לציוד**: אנו זמינים גם מחוץ לשעות הפעילות הרגילות. אנא חייגו למספר התמיכה ותועברו למענה חירום.",
            "האם אתם פתוחים בסופ\"ש": "בימי שבת אנחנו סגורים לחלוטין. ביום שישי אנחנו פתוחים עד השעה 14:00. אם אתם זקוקים לציוד לסופ\"ש שלם, אנו ממליצים בחום לאסוף אותו ביום חמישי אחר הצהריים או ביום שישי בבוקר, כדי שתוכלו ליהנות ממנו במלואו.",
            "שעות פתיחה": "שעות הפתיחה שלנו ב-Renty הן:\n🕘 **ימים א'-ה':** 9:00-18:00\n🕘 **יום ו':** 9:00-14:00\n❌ **שבת:** סגור.",

            // משלוחים
            "האם יש משלוח עד הבית": "כן! אנו גאים להציע שירות משלוח עד הבית, לנוחיותכם המירבית:\n🚚 **אזורי משלוח**: אנו מכסים ברדיוס של 50 ק\"מ מתל אביב, כולל גוש דן, השרון, השפלה, וגם חלקים מחיפה והעמקים, ובאר שבע והסביבה.\n💰 **עלות משלוח**: 29 ₪ לכיוון (משלוח והחזרה). \n⏰ **זמני משלוח**: לרוב תוך 24-48 שעות ממועד אישור ההזמנה, בתיאום מראש.\n📦 **משלוח חינם**: להזמנות מעל 600 ₪, המשלוח עלינו!\n\n📍 ניתן כמובן גם לאסוף עצמאית ללא עלות מהמרכז שלנו.",
            "איך עובד המשלוח": "תהליך המשלוח שלנו תוכנן להיות פשוט ויעיל:\n📋 לאחר אישור וביצוע ההזמנה, ניצור איתכם קשר טלפוני לתיאום מועד משלוח שנוח לכם.\n📞 השליח שלנו יתקשר אליכם כ-30 דקות לפני הגעתו המשוערת, כדי לוודא שאתם זמינים.\n📦 עם קבלת הציוד, תקבלו הדרכה קצרה על אופן השימוש בו, ותוכלו לבדוק את מצבו.\n📄 תתבקשו לחתום על טופס קבלה המאשר את מצב הציוד בעת המסירה.",
            "כמה עולה משלוח": "עלויות המשלוח שלנו מתחלקות לפי מרחק:\n🏠 **עד 20 ק\"מ** מתל אביב: 30 ₪ לכיוון (סה\"כ 60 ₪ הלוך-חזור).\n🏠 **20-35 ק\"מ** מתל אביב: 50 ₪ לכיוון (סה\"כ 100 ₪ הלוך-חזור).\n🏠 **35-50 ק\"מ** מתל אביב: 80 ₪ לכיוון (סה\"כ 160 ₪ הלוך-חזור).\n\n🎁 **הטבה**: משלוח חינם להזמנות בסכום כולל של 500 ₪ ומעלה!\n💡 **אפשרות חיסכון**: איסוף עצמי מהמרכז שלנו - ללא עלות נוספת!",
            "זמני משלוח": "זמני המשלוח שלנו נעים בין 24-48 שעות ממועד אישור ההזמנה, בכפוף לתיאום מראש של מועד נוח עבורכם. אנו משתדלים לבצע את המשלוחים במהירות וביעילות מרבית, ודואגים לעדכן אתכם בכל שלב. במקרים דחופים, ניתן ליצור קשר וננסה לסייע ככל הניתן.",

            // קבלה והחזרה
            "איך מחזירים ציוד": "החזרת הציוד ל-Renty קלה ונוחה, וניתנת לבחירה בין שתי אפשרויות:\n\n🏢 **איסוף עצמי ממרכז השירות**: תוכלו להחזיר את הציוד בכתובתנו: רחוב הרצל 123, תל אביב. שעות הפעילות להחזרה הן א'-ה': 9:00-18:00, ו': 9:00-14:00.\n\n🚚 **איסוף הציוד מהבית/ממקום העסק**: בתיאום מראש בלבד, באמצעות שיחה למוקד שירות הלקוחות במספר 050-123-4567. עלות שירות האיסוף היא 40 ₪. זמינות האיסוף היא א'-ה' בין השעות 10:00-17:00.\n\nאנא וודאו שהציוד שלם ונקי לפני ההחזרה!",
            "מתי צריך להחזיר ציוד": "מועד החזרת הציוד הוא **עד השעה 18:00 ביום סיום ההשכרה שנקבע בהזמנה**. אנו ממליצים להקפיד על זמני ההחזרה.\n📞 **לארכה**: אם אתם זקוקים לארכה בתקופת ההשכרה, אנא צרו קשר עם מוקד השירות שלנו (050-123-4567) מראש, ונשמח לבדוק את האפשרויות.\n💰 **איחור**: איחור בהחזרת ציוד עלול לגרור תשלום נוסף של 50% מעלות יום השכירות עבור כל יום איחור.\n📅 **החזרה מוקדמת**: במידה ואתם מחזירים את הציוד מוקדם מהמועד שנקבע, לא יינתן החזר כספי עבור הימים שלא נוצלו.",
            "איפה מחזירים ציוד": "ישנן שתי נקודות אפשריות להחזרת ציוד:\n\n🏢 **המרכז הראשי שלנו (איסוף עצמי)**:\n📍 רחוב הרצל 123, תל אביב.\n🕘 שעות קבלה והחזרה: א'-ה': 9:00-18:00, ו': 9:00-14:00.\n🅿️ חניה זמינה במקום, לנוחיותכם.\n\n🚚 **שירות איסוף מהבית/עסק**: בתיאום מראש בלבד בטלפון 050-123-4567. עלות השירות 40 ₪.\n\nאנו נשמח לעזור לכם בכל שאלה לגבי ההחזרה.",
            "איסוף עצמי": "ניתן לאסוף את הציוד שהזמנתם באופן עצמי מהמשרדים והמרכז הלוגיסטי שלנו ברחוב הרצל 123, תל אביב. שעות הפעילות לאיסוף הן א'-ה': 9:00-18:00, ו': 9:00-14:00. אין עלות נוספת לאיסוף עצמי, וזוהי דרך מצוינת לחסוך בדמי משלוח. אנא וודאו שיש לכם אישור הזמנה בעת ההגעה.",

            // מצב הציוד
            "מה המצב של הציוד": "איכות הציוד שלנו היא בראש סדר העדיפויות ב-Renty! אנו מתחייבים לספק לכם ציוד במצב מצוין:\n✅ **בדיקה קפדנית**: כל הציוד עובר בדיקה יסודית ומקיפה לפני כל השכרה.\n🔧 **תחזוקה שוטפת**: אנו מבצעים תחזוקה מקצועית ומוקפדת באופן שוטף, כדי לוודא תקינות ארוכת טווח.\n🆕 **ציוד חדש או כמעט חדש**: אנו מקפידים לחדש את המלאי ולהחזיק ציוד חדיש ובטכנולוגיה מתקדמת.\n📋 **דוח מצב**: לכל פריט מצורף דוח מצב מפורט, ותוכלו לבדוק את הציוד בעת הקבלה.\n🛡️ **ביטוח מלא**: כל הציוד שלנו מבוטח במלואו מפני תקלות הנובעות משימוש סביר.",
            "איך אתם מוודאים שהציוד תקין": "אנו נוקטים בבקרת איכות מחמירה כדי לוודא שכל הציוד שתקבלו יהיה תקין ובטוח לשימוש:\n🔍 **בדיקה טכנית מקיפה**: כל פריט עובר בדיקה טכנית יסודית על ידי צוות מומחים לפני כל השכרה.\n🧽 **ניקוי וחיטוי מקצועי**: אנו מבצעים ניקוי וחיטוי יסודיים לכל הציוד לאחר כל שימוש, במיוחד לציוד תינוקות ומוצרי אוכל.\n📝 **תיעוד היסטוריית ציוד**: אנו מתעדים את היסטוריית הטיפולים והשימושים של כל פריט, מה שמאפשר לנו לזהות ולטפל בבעיות בזמן.\n👨‍🔧 **צוות טכנאים מקצועי**: אנו מעסיקים צוות טכנאים מיומן שאחראי על התחזוקה והתיקונים השוטפים.\n📸 **תיעוד מצב**: לעיתים קרובות אנו מתעדים את מצב הציוד באמצעות תמונות לפני המסירה ללקוח.",
            "מה קורה אם הציוד מתקלקל": "במקרה הבלתי סביר שהציוד מתקלקל במהלך תקופת ההשכרה (בתקלה שאינה כתוצאה משימוש בלתי סביר או רשלנות), אנא פעלו כך:\n📞 **דווחו לנו מיד**: חייגו למוקד התמיכה שלנו: 050-123-4567.\n⚡ **מענה מהיר**: נשלח טכנאי או נדאג להחלפה תוך 2-4 שעות (באזורי המרכז).\n🔄 **החלפת ציוד**: אם לא ניתן לתקן במקום, נספק לכם ציוד חלופי דומה או טוב יותר ללא דיחוי.\n💰 **החזר כספי**: במקרים חריגים בהם לא ניתן לספק פתרון, נדאג להחזר כספי חלקי או מלא בהתאם לתקופת השימוש.\n🛡️ **כיסוי מלא**: כל הטיפול, התיקון או ההחלפה במקרה של תקלה בשימוש סביר, הם ללא עלות נוספת מצדכם!",
            "האם הציוד נקי": "כן, ההקפדה על היגיינה וניקיון היא בראש סדר העדיפויות שלנו ב-Renty. כל הציוד עובר ניקוי וחיטוי יסודיים ומקצועיים לאחר כל שימוש ולפני כל השכרה. אנו משתמשים בחומרי ניקוי ידידותיים לסביבה ובשיטות חיטוי מתקדמות כדי להבטיח שהציוד יגיע אליכם במצב מושלם ובטוח לשימוש.",
            "האם הציוד בטוח לשימוש": "בהחלט! אנו מקפידים על בדיקות בטיחות קפדניות וכל הציוד שאנו משכירים עומד בתקנים הנדרשים בישראל ובעולם. הציוד נבדק באופן שוטף על ידי טכנאים מוסמכים ובודקי איכות, על מנת לוודא את בטיחותו המלאה לפני כל השכרה. הבטיחות שלכם היא הדאגה העיקרית שלנו.",

            // תמיכה ויצירת קשר
            "איך יוצרים קשר": "דרכי התקשרות עם Renty:\n📞 **טלפון**: 050-123-4567 - למענה מהיר בשעות הפעילות.\n📧 **מייל כללי**: info@renty.co.il - לבירורים כלליים.\n📧 **תמיכה טכנית**: support@renty.co.il - לתמיכה ודיווח על תקלות.\n📧 **הזמנות וביטולים**: orders@renty.co.il - לשאלות בנושאי הזמנות קיימות.\n\n🕘 **זמינות טלפונית**: א'-ה' 9:00-18:00, ו': 9:00-14:00.\n⚡ **מענה מהיר למיילים** מובטח בימי עבודה!",
            "יש לכם וואטסאפ": "כן! אנחנו זמינים גם בוואטסאפ לנוחיותכם:\n📱 **מספר וואטסאפ**: 050-123-4567\n💬 שלחו לנו הודעה וציינו את שמכם או מספר ההזמנה, ונשמח לענות.\n⏰ **מענה בוואטסאפ**: בשעות הפעילות הרגילות: א'-ה' 9:00-18:00, ו': 9:00-14:00.\n\n🚀 זו הדרך המהירה ביותר לקבל מענה לשאלות קצרות או לתיאום.",
            "אני צריך עזרה דחופה": "למקרי חירום או עזרה דחופה הקשורה לציוד שהשכרתם, אנא התקשרו ישירות למוקד התמיכה שלנו במספר 📞 **050-123-4567**. אנחנו זמינים גם מחוץ לשעות הפעילות הרגילות למצבי חירום, ונדאג לטפל בפנייתכם בהקדם האפשרי.",
            "עדכונים והטבות": "רוצים להישאר מעודכנים בכל המבצעים השווים, ההטבות הבלעדיות והציוד החדש שמגיע ל-Renty? 🎉 תוכלו להירשם ל**רשימת התפוצה** שלנו בתחתית האתר! אנחנו שולחים ניוזלטר תקופתי עם עדכונים על ציוד חדש, הנחות מיוחדות וטיפים לשימוש נכון בציוד. שווה להצטרף!",

            // מחירים ותשלומים
            "איך התשלום": "אנו ב-Renty מציעים מגוון רחב של אפשרויות תשלום נוחות ומאובטחות:\n💳 **כרטיסי אשראי**: אנו מכבדים את כל כרטיסי האשראי המובילים (ויזה, מאסטרקארד, אמריקן אקספרס, דיינרס).\n💰 **העברה בנקאית**: ניתן לבצע העברה בנקאית בתיאום מראש. פרטי חשבון יימסרו לכם.\n📱 **ביט או פייבוקס**: אפשרויות תשלום מהירות ונוחות דרך אפליקציות התשלום.\n💵 **מזומן**: ניתן לשלם במזומן רק באיסוף עצמי ממרכז השירות שלנו.\n\n🔒 כל התשלומים מתבצעים באמצעות מערכות מאובטחות ומוצפנות, לשמירה על פרטיותכם.",
            "יש הנחות": "בהחלט! ב-Renty אנחנו אוהבים לפנק את הלקוחות שלנו:\n🎓 **הנחת סטודנטים**: 10% הנחה לכל הסטודנטים בבתי ספר ובאוניברסיטאות – הציגו תעודת סטודנט בתוקף!\n👥 **השכרות מרובות / לטווח ארוך**: עד 20% הנחה להשכרות מרובות פריטים או להשכרה לטווח ארוך (שבוע ומעלה) - פנו אלינו לקבלת הצעת מחיר מותאמת.\n🎯 **לקוחות VIP**: לקוחות חוזרים ומועדפים נהנים מהנחות מיוחדות ומבצעים בלעדיים.\n📧 **קופוני ניוזלטר**: הרשמו לניוזלטר שלנו וקבלו קופוני הנחה ישירות למייל שלכם!\n\n💡 **טיפ**: תמיד כדאי לשאול את נציג השירות שלנו על הנחות זמינות בעת ביצוע ההזמנה.",
            "מחירי השכרה": "מחירי ההשכרה ב-Renty משתנים בהתאם למספר גורמים:\n• **פריט הציוד**: לכל פריט יש מחיר יומי/שבועי משלו.\n• **משך ההשכרה**: ככל שתקופת ההשכרה ארוכה יותר, כך המחיר היומי לרוב נמוך יותר.\n• **שירותים נלווים**: עלויות נוספות עלולות לכלול משלוח/איסוף או שירותים מיוחדים.\n\nלפרטים מדויקים ומחירון מלא, אנא עיינו ב**קטלוג הציוד** שלנו באתר, שם תמצאו מחירים עדכניים לכל פריט, או צרו קשר ישירות עם שירות הלקוחות שלנו לקבלת הצעת מחיר מותאמת אישית.",

            // ביטוח ואחריות
            "מה עם ביטוח": "אנו ב-Renty דואגים לראש שקט! כל הציוד שאנו משכירים **מבוטח במלואו**:\n💰 **השתתפות עצמית**: במקרה של נזק או אובדן, קיימת השתתפות עצמית מינימלית של 200 ₪ בלבד.\n🔧 **נזקים רגילים**: נזקים קלים הנובעים משימוש סביר ומכוסים על ידי הביטוח, מטופלים על חשבוננו - ללא תשלום נוסף מצדכם.\n⚠️ **רשלנות חמורה**: במקרים של רשלנות חמורה או שימוש בניגוד להוראות, הטיפול יתבצע בהתאם לתנאי חוזה ההשכרה.\n📋 **הסכם ביטוח**: בעת קבלת הציוד, תתבקשו לחתום על הסכם השכרה מפורט הכולל את תנאי הביטוח.\n\nאנו ממליצים לעיין בתנאים המלאים בהסכם או לפנות אלינו עם שאלות.",
            "מה קורה אם אני גורם נזק": "במקרה הבלתי צפוי שנגרם נזק לציוד במהלך תקופת ההשכרה (שאינו בלאי טבעי), אנא פעלו כך:\n📞 **דווחו לנו מיד**: התקשרו למוקד התמיכה שלנו: 050-123-4567, ברגע שאתם מזהים את הנזק.\n📸 **צלמו את הנזק**: תיעוד ויזואלי יעזור לנו להבין את המצב.\n📋 **מלאו דוח נזק**: ננחה אתכם למלא דוח פשוט המפרט את נסיבות הנזק.\n💰 **השתתפות עצמית**: כאמור, קיימת השתתפות עצמית של 200 ₪. מעבר לכך, רוב הנזקים הקלים מכוסים על ידי הביטוח שלנו.\n🔧 **אנו מטפלים בתיקון**: צוות הטכנאים שלנו יטפל בתיקון הציוד במהירות וביעילות.\n\nחשוב לזכור: שיתוף פעולה מלא בדיווח מונע אי הבנות ומקל על הטיפול.",
            "האם יש אחריות": "כן, אנו ב-Renty מספקים **אחריות מלאה על תקינות הציוד** לכל תקופת ההשכרה. אם במהלך תקופת ההשכרה תתגלה תקלה או בעיה בציוד שאינה נובעת משימוש לא נכון או רשלנות, התיקון או ההחלפה יבוצעו על חשבוננו וללא כל עלות נוספת מצדכם. המטרה שלנו היא שתקבלו ציוד תקין ותיהנו מחוויית שימוש חלקה.",

            // קטגוריות ציוד
            "אילו קטגוריות ציוד קיימות": "ב-Renty אנו מציעים מגוון עצום של ציוד להשכרה, מחולק לקטגוריות נוחות למציאה:\n📚 **ציוד לבית הספר**: מחשבונים, מקרנים ניידים, לוחות חכמים.\n🏠 **ציוד לבית**: שואבי אבק רובוטיים, מכונות כביסה ניידות, מצלמות אבטחה.\n🍳 **ציוד למטבח**: מיקסרים, גריל חשמלי, מכונות קפה.\n👶 **ציוד לתינוקות**: עגלות, מושבי בטיחות, עריסות.\n🏃‍♀️ **ציוד ספורט**: אקדחי עיסוי, מזרני יוגה, אופניים, גלשנים.\n🎉 **ציוד לאירועים**: רמקולים ניידים, ערכות קריוקי, תאורה, מקרנים.\n🏕️ **ציוד קמפינג**: אוהלים, שקי שינה, ערכות בישול שטח.\n💻 **ציוד משרדי**: כסאות משרדיים, מסכי מחשב, מדפסות.\n🐾 **ציוד לחיות מחמד**: מתקני האכלה אוטומטיים, כלובים.\n✈️ **ציוד לנסיעות**: מטענים ניידים, מזוודות חכמות, מצלמות אקסטרים.\n💡 **ציוד טכנולוגי**: טאבלטים, מקרנים, מסכים, מחשבים ניידים.\n🛠️ **ציוד לשיפוצים**: מקדחות, מברגות, כלי עבודה חשמליים.\n🎶 **ציוד מוזיקה**: גיטרות חשמליות, מערכות הגברה, מיקרופונים.\n\n**מוזמנים לבקר ב**<a href='catalog.html' target='_blank'>קטלוג המלא שלנו באתר</a> **ולמצוא את מה שאתם צריכים!**",
            "יש ציוד לבית הספר": "בוודאי! בקטגוריית **ציוד לבית הספר** תמצאו מגוון רחב של פריטים שיעזרו לכם בלמידה וביצירה, כמו: **מחשבונים מדעיים**, **מקרנים ניידים** להצגות, **לוחות כתיבה מחיקים**, **מערכות הקלטה לשיעורים** ועוד. כל הציוד במצב מעולה ומתאים לצרכים לימודיים. <br><br>🔗 <a href='SchoolList.html' target='_blank'>לחצו כאן לקטגוריה</a>",
            "יש לכם גלשנים": "כן, יש לנו מגוון רחב של **גלשנים** להשכרה, המתאימים גם לים וגם לבריכה! תוכלו למצוא אצלנו: **גלשני גלים למתחילים ולמתקדמים**, **גלשני סאפ (Stand Up Paddleboard)** לחוויה רגועה, **בוגי בורד**, ואפילו **גלשני קייטסרפינג** למקצוענים. <br><br>💡 **טיפ**: זמינות הגלשנים משתנה לפי עונה וביקוש. מומלץ לבדוק את המלאי המעודכן באתר או ליצור איתנו קשר לפני ההגעה.",
            "יש ציוד לחוף": "כמובן! להשלמת חווית החוף המושלמת, אנו מציעים להשכרה: **שמשיות חוף גדולות**, **מחצלות נוחות**, **צידניות קשיחות ורכות**, **כיסאות חוף מתקפלים**, וגם **גלשנים** ואביזרים נלווים. הכל כדי שתוכלו ליהנות מיום כיף בים ללא דאגות. <br><br>🎒 ניתן לשכור להשכרה יומית, סופ״ש או שבוע שלם!",
            "יש ציוד למטבח": "כן, יש לנו מגוון מרשים של **ציוד למטבח** שישדרג כל ארוחה או אירוע קולינרי! 🍳 תוכלו לשכור: **מיקסרים** מקצועיים, **טוסטרים**, **גרילים חשמליים** (לשימוש בתוך הבית ומחוצה לו), **מכונות קפה** מכל הסוגים, **מעבדי מזון**, ואפילו **סירים ומחבתות מיוחדים**. <br><br>🔍 בקרו בקטגוריית המטבח באתר: <a href='kitchenList.html' target='_blank'>לחצו כאן</a>",
            "יש ציוד לתינוקות": "בהחלט! 👶 אנחנו מציעים מגוון רחב של **ציוד לתינוקות** כדי להקל על ההורים ולספק נוחות ובטיחות לקטנטנים: **עריסות ניידות**, **עגלות טיולונים**, **מושבים בטיחותיים לרכב**, **לולים**, **טרמפולינות לתינוק**, **מנשאים**, **משטחי פעילות** ועוד. <br><br>💡 כל הציוד עובר ניקוי, חיטוי וחיטוי יסודיים על פי התקנים המחמירים ביותר לפני כל השכרה, לבטיחות ובריאות תינוקכם.",
            "ציוד ספורט": "יש לנו מגוון רחב של **ציוד ספורט** להשכרה, המתאים לכל פעילות גופנית! תמצאו אצלנו: **כדורים לסוגיהם** (כדורגל, כדורסל, כדורעף), **ציוד למשחקי מחבט** (טניס, בדמינטון), **מזרוני יוגה ופילאטיס**, **אופניים** (שבילים, הרים), **אקדח עיסוי**, **משקולות**, **גומיות אימון** ועוד. <br><br>בדקו את הקטגוריה באתר: <a href='SportList.html' target='_blank'>לחצו כאן</a>.",
            "האם יש לכם ציוד לאירועים": "כן, אנחנו מציעים גם **ציוד מקיף לאירועים** מכל הסוגים! 🥳 תוכלו למצוא אצלנו: **מערכות הגברה מקצועיות**, **תאורה** (למסיבות, תאורת אווירה), **מקרנים ומסכי הקרנה**, **כסאות ושולחנות**, **מכונות פופקורן/ברד**, **ערכות קריוקי**, ואפילו **עמדות דיג'יי**. <br><br>צרו קשר לקבלת הצעת מחיר מותאמת אישית לאירוע שלכם: <a href='EventList.html' target='_blank'>לחצו כאן</a>.",
            "יש ציוד קמפינג": "כן, יש לנו **ציוד מקיף לקמפינג** שיעשה לכם את השטח לנוח ומהנה! 🏕️ תוכלו לשכור: **אוהלים** בגדלים שונים (לשניים, לארבעה, ואוהלי משפחה גדולים), **שקי שינה**, **מזרנים מתנפחים** ומשאבות ניפוח, **ערכות בישול שטח** (גזיות, כלים), **תאורת שטח** (פנסים, עששיות), **צידניות חשמליות** ועוד. <br><br>ציינו איזה ציוד קמפינג ספציפי אתם צריכים ונסייע לכם למצוא אותו.",
            "יש ציוד משרדי": "בהחלט. אנחנו משכירים מגוון רחב של **ציוד משרדי** שיכול לשדרג כל סביבת עבודה, למשרד ביתי, לעסק קטן או לאירועים. תמצאו אצלנו: **מקרנים**, **מסכים בגדלים שונים**, **מדפסות (לייזר/הזרקת דיו)**, **ציוד ישיבות (מיקרופונים, רמקולים)**, **כסאות משרדיים ארגונומיים**, **מכונות למינציה**, **מגרסות נייר** ועוד. <br><br>מוזמנים לבדוק את קטגוריית הציוד המשרדי באתר: <a href='officeList.html' target='_blank'>לחצו כאן</a>.",
            "ציוד לבית": "כן, יש לנו מגוון רחב של **ציוד לבית** להשכרה, שיעזור לכם במשימות היומיומיות או באירועים מיוחדים! זה כולל: **מצלמות אבטחה** חכמות, **מכונות כביסה ניידות**, **מכשירי אדים**, **שואבי אבק רובוטיים**, **מאווררים** (גם תעשייתיים), **מכונות פסטה** ועוד. תוכלו למצוא את כל הפריטים בקטגוריה הייעודית באתר: <a href='homeList.html' target='_blank'>לחצו כאן</a>.",
            "ציוד לחיות מחמד": "בהחלט! אנחנו מציעים גם **ציוד לחיות מחמד** להשכרה, שיכול להקל על הטיפול בחברינו הפרוותיים, במיוחד בנסיעות או כאשר אתם זקוקים לפתרון זמני. תמצאו אצלנו: **מתקני האכלה אוטומטיים**, **כלובים ומנשאים** בגדלים שונים, **משאבות אוויר לאקווריומים** ועוד. בדוק/בדקי את הקטגוריה באתר: <a href='PetList.html' target='_blank'>לחצו כאן</a>.",
            "ציוד לנסיעות": "כן, יש לנו **ציוד לנסיעות** שיכול לשדרג כל טיול, קצר או ארוך! כולל: **מטענים ניידים (פאור בנקים)**, **מפות GPS**, **ציוד קמפינג קומפקטי (כמו שקי שינה קלים ואוהלי פופ אפ)**, **מזוודות חכמות**, **מצלמות אקסטרים (GoPro)**, **מתאמי חשמל אוניברסליים** ועוד. ראו את הקטגוריה באתר: <a href='travelList.html' target='_blank'>לחצו כאן</a>.",
            "ציוד טכנולוגי": "יש לנו מגוון רחב של **ציוד טכנולוגי** להשכרה, המתאים לאירועים, מצגות, לימודים או שימוש אישי. תמצאו אצלנו: **מקרנים** מתקדמים, **מסכים** (למחשב או לטלוויזיה), **טאבלטים**, **לפטופים**, **מצלמות דיגיטליות מקצועיות**, **ציוד סאונד** ועוד. בדוק/בדקי את הקטגוריה באתר: <a href='techList.html' target='_blank'>לחצו כאן</a>.",
            "ציוד לשיפוצים": "כן, אנחנו משכירים גם **ציוד לשיפוצים**! אם אתם מתכננים פרויקט עשה זאת בעצמך, אצלנו תמצאו מגוון **כלי עבודה** מקצועיים: **מקדחות (פטישון, כבל/נטענת)**, **מברגות**, **מכשירים למדידת מרחק ופילוס (לייזר)**, **משחזות**, **מסורים חשמליים**, **מפתחות שוודיים**, **ארגזי כלים** ועוד. מומלץ לעיין בקטגוריה: <a href='UpgradeList.html' target='_blank'>לחצו כאן</a>.",
            "ציוד מוזיקה": "בהחלט! יש לנו **ציוד מוזיקה** להשכרה, מושלם לאירועים קטנים, מסיבות, או לנגנים שרוצים להתנסות בכלי חדש. תמצאו אצלנו: **גיטרות חשמליות ואקוסטיות**, **מערכות הגברה (רמקולים ומגברים)**, **מיקרופונים (קווים ואלחוטיים)**, **עמדות דיג'יי**, **אורגנים/פסנתרים חשמליים** ועוד. <a href='musicList.html' target='_blank'>לחצו כאן</a> לקטגוריה.",
            "ספר לי על Renty": "ברוכים הבאים ל-Renty! אנחנו פלטפורמה מובילה להשכרת ציוד מגוון לכל צורך ואירוע, ומאפשרים לכם ליהנות מגישה נוחה, חסכונית וידידותית לסביבה למוצרים איכותיים. אצלנו תמצאו פתרונות השכרה גמישים, מקצועיים ובמחירים הוגנים, בין אם אתם זקוקים לציוד לזמן קצר, לפרויקט ספציפי, או סתם רוצים להתנסות במוצר לפני קנייה. <br><br>המטרה שלנו היא להפוך את תהליך השכרת הציוד לפשוט, מהיר ומשתלם ביותר, תוך דגש על שירות לקוחות מעולה וציוד במצב אופטימלי.",
            "כללי - קטגוריות": "יש לנו מגוון רחב של קטגוריות! תוכלו למצוא ציוד ל**בית הספר**, **לבית**, **למטבח**, **לתינוקות**, **לספורט**, **לאירועים**, **לקמפינג**, **למשרד**, ל**חיות מחמד**, ל**נסיעות**, **טכנולוגי**, ל**שיפוצים** ו**מוזיקה**. איזו קטגוריה מעניינת אותך במיוחד?",
            "המשך - קטגוריות": "בטח, איזו קטגוריה מבין אלה מעניינת אותך? ספר לי אם אתה מחפש ציוד ל**ספורט**, ל**בית**, **לאירועים**, או אולי **ציוד לתינוקות**?"

        };

        const greetingKeywords = ["היי", "שלום", "הי", "מה נשמע", "בוקר טוב", "ערב טוב", "צהריים טובים", "יש לי שאלה", "מה קורה", "עזרה", "אפשר לעזור לי"];

        const productKeywords = [
            "אקדח עיסוי", "מיקסר", "מקרן", "כסא משרדי", "מצלמת אבטחה",
            "עגלת תינוק", "מכונת כביסה ניידת", "מתקן האכלה אוטומטי לחיות מחמד",
            "מטען נייד", "רמקול נייד", "מפתח שוודי", "גיטרה חשמלית", "טאבלט",
            "אוהל לשניים", "אוהל לארבעה", "אוהל קמפינג גדול",
            "מזרן יוגה", "מזרן ספורט", "מזרן לשינה",
            "גריל חשמלי", "מכונת קפה", "שואב אבק רובוטי", "ערכת קריוקי", "כיסא גיימינג", "מסך מחשב"
        ];

        // מילות מפתח ותגובות
        const keywords = {
            "הזמנה": ["איך מתבצעת השכרת ציוד באתר", "האם אפשר לבטל הזמנה", "איך אפשר לשנות הזמנה", "מה צריך כדי להזמין", "סיכום הזמנה"],
            "ביטול": ["האם אפשר לבטל הזמנה"],
            "שינוי": ["איך אפשר לשנות הזמנה"],
            "שעות": ["מה שעות הפעילות", "מתי אפשר לקבל תמיכה", "האם אתם פתוחים בסופ\"ש", "שעות פתיחה"],
            "פעילות": ["מה שעות הפעילות", "שעות פתיחה"],
            "תמיכה": ["מתי אפשר לקבל תמיכה", "אני צריך עזרה דחופה", "איך יוצרים קשר"],
            "משלוח": ["האם יש משלוח עד הבית", "איך עובד המשלוח", "כמה עולה משלוח", "זמני משלוח"],
            "החזרה": ["איך מחזירים ציוד", "מתי צריך להחזיר ציוד", "איפה מחזירים ציוד"],
            "איסוף": ["איסוף עצמי", "איפה מחזירים ציוד"],
            "מצב": ["מה המצב של הציוד", "איך אתם מוודאים שהציוד תקין", "האם הציוד נקי", "האם הציוד בטוח לשימוש"],
            "איכות": ["מה המצב של הציוד", "איך אתם מוודאים שהציוד תקין", "האם הציוד נקי", "האם הציוד בטוח לשימוש"],
            "תקלה": ["מה קורה אם הציוד מתקלקל", "אני צריך עזרה דחופה"],
            "קשר": ["איך יוצרים קשר", "יש לכם וואטסאפ", "אני צריך עזרה דחופה"],
            "וואטסאפ": ["יש לכם וואטסאפ"],
            "תשלום": ["איך התשלום", "מחירי השכרה"],
            "הנחה": ["יש הנחות"],
            "מחיר": ["כמה עולה משלוח", "מחירי השכרה"],
            "ביטוח": ["מה עם ביטוח"],
            "נזק": ["מה קורה אם אני גורם נזק", "מה עם ביטוח"],
            "אחריות": ["האם יש אחריות"],
            "בית ספר": ["יש ציוד לבית הספר"],
            "גלשן": ["יש לכם גלשנים"],
            "גלישה": ["יש לכם גלשנים"],
            "חוף": ["יש ציוד לחוף", "ים", "בריכה"],
            "ים": ["יש ציוד לחוף", "גלשן", "גלישה"],
            "בריכה": ["יש ציוד לחוף", "גלשן", "גלישה"],
            "מטבח": ["יש ציוד למטבח"],
            "תינוק": ["יש ציוד לתינוקות", "עגלול"],
            "עגלול": ["יש ציוד לתינוקות"],
            "אירועים": ["האם יש לכם ציוד לאירועים"],
            "ספורט": ["ציוד ספורט"],
            "Renty": ["מה זה Renty", "מי אתם", "ספר לי על Renty"],
            "למה": ["למה לשכור ציוד"],
            "שכור": ["מה אפשר לשכור"],
            "השכרה": ["מה אפשר לשכור", "מחירי השכרה", "איך מתבצעת השכרת ציוד באתר"],
            "קמפינג": ["יש ציוד קמפינג"],
            "משרדי": ["יש ציוד משרדי"],
            "אוהל": ["אוהל"], // placeholder for clarification
            "מזרן": ["מזרן"], // placeholder for clarification
            "בית": ["ציוד לבית"],
            "חיות מחמד": ["ציוד לחיות מחמד"],
            "נסיעות": ["ציוד לנסיעות"],
            "טכנולוגי": ["ציוד טכנולוגי"],
            "שיפוצים": ["ציוד לשיפוצים"],
            "מוזיקה": ["ציוד מוזיקה"],
            "עדכונים": ["עדכונים והטבות", "מבצעים"],
            "הטבות": ["עדכונים והטבות", "מבצעים"],
            "מבצעים": ["עדכונים והטבות", "יש הנחות"],
            "ניוזלטר": ["עדכונים והטבות"],
            "רשימת תפוצה": ["עדכונים והטבות"],
            "סיכום": ["סיכום הזמנה"],
            "מייל": ["סיכום הזמנה", "איך יוצרים קשר"],
            "אישור הזמנה": ["סיכום הזמנה"],
            "קטגוריות": ["אילו קטגוריות ציוד קיימות", "כללי - קטגוריות", "המשך - קטגוריות"],
            "סוגי ציוד": ["אילו קטגוריות ציוד קיימות", "כללי - קטגוריות", "המשך - קטגוריות"],
            "על Renty": ["ספר לי על Renty", "מה זה Renty", "מי אתם", "למה לשכור ציוד"]
        };

        // מילון לתיקוני שגיאות כתיב נפוצות
        const spellingCorrections = {
            "הי": "היי",
            "שלןם": "שלום",
            "הזמנהה": "הזמנה",
            "ביטולל": "ביטול",
            "משלוחח": "משלוח",
            "החזרהה": "החזרה",
            "ציודד": "ציוד",
            "איוך": "איכות",
            "מיחירים": "מחירים",
            "תשלומיםם": "תשלומים",
            "וואטצפ": "וואטסאפ",
            "וטסאפ": "וואטסאפ",
            "ווצאפ": "וואטסאפ",
            "קשרר": "קשר",
            "שעןת": "שעות",
            "פעילןת": "פעילות",
            "תמכה": "תמיכה",
            "תיקון": "תקלה",
            "ביטוחח": "ביטוח",
            "אחריותת": "אחריות",
            "גלשניים": "גלשנים",
            "מטבחח": "מטבח",
            "תינוקןת": "תינוקות",
            "ארועים": "אירועים",
            "ספורטט": "ספורט",
            "רנטי": "Renty",
            "להשכיר": "להשכיר",
            "קמפינגג": "קמפינג",
            "אוהלל": "אוהל",
            "מזרןן": "מזרן",
            "משרדיי": "משרדי",
            "לבית": "לבית",
            "חיוץ": "חיות",
            "מחמדד": "מחמד",
            "נסעיות": "נסיעות",
            "טכנלוגי": "טכנולוגי",
            "שיפוציפ": "שיפוצים",
            "מזיקה": "מוזיקה",
            "עדכוניםם": "עדכונים",
            "הטבוות": "הטבות",
            "מבצבעים": "מבצעים",
            "ניוזלטרר": "ניוזלטר",
            "תפוצעה": "תפוצה",
            "קטגוריוץ": "קטגוריות",
            "שאללה": "שאלה"
        };


        function normalizeText(text) {
            text = text.toLowerCase().trim();
            for (const typo in spellingCorrections) {
                text = text.replace(new RegExp(typo, 'g'), spellingCorrections[typo]);
            }
            return text;
        }

        async function findBestMatch(userQuestion) {
            const normalizedQuestion = normalizeText(userQuestion);

            // 1. בדיקה עבור מילות ברכה
            if (greetingKeywords.some(keyword => normalizedQuestion.includes(keyword))) {
                return "greeting";
            }

            // 2. טיפול בקונטקסט (אם השאלה האחרונה הייתה על קטגוריות והמשתמש שאל "מה לגבי...")
            if (conversationContext.lastIntent === "categories_general" && (normalizedQuestion.includes("מה לגבי") || normalizedQuestion.includes("איזו") || normalizedQuestion.includes("יש לכם") || normalizedQuestion.includes("אחר"))) {
                 // Try to identify a specific category from the follow-up question
                for (const categoryKeyword in keywords) {
                    if (keywords[categoryKeyword][0] && keywords[categoryKeyword][0].includes("יש ציוד ל") && normalizedQuestion.includes(normalizeText(categoryKeyword))) {
                        conversationContext.lastIntent = categoryKeyword; // Update context to specific category
                        return keywords[categoryKeyword][0]; // Return the specific category FAQ
                    }
                }
                // If no specific category found but still in context, offer to list categories again
                return "המשך - קטגוריות";
            }


            // 3. בדיקה עבור שאלות הבהרה לציוד כללי (אוהל, מזרן)
            if (normalizedQuestion.includes("אוהל") && !normalizedQuestion.includes("לשניים") && !normalizedQuestion.includes("לארבעה") && !normalizedQuestion.includes("קמפינג גדול")) {
                return "clarify_אוהל";
            }
            if (normalizedQuestion.includes("מזרן") && !normalizedQuestion.includes("יוגה") && !normalizedQuestion.includes("ספורט") && !normalizedQuestion.includes("שינה")) {
                return "clarify_מזרן";
            }
            
            // 4. ניסיון למצוא מוצר ספציפי מתוך רשימת המילים המקובלות
            for (const product of productKeywords) {
                if (normalizedQuestion.includes(normalizeText(product))) {
                    const productInfo = await findProductInDB(product);
                    if (productInfo) {
                        conversationContext = {}; // Clear context if a specific product is found
                        return { type: "product", name: product, info: productInfo };
                    }
                }
            }

            // 5. חיפוש התאמה מדויקת או קרובה ב-FAQ
            for (let question in faqData) {
                const normalizedFaqQuestion = normalizeText(question);
                if (normalizedFaqQuestion.includes(normalizedQuestion) || normalizedQuestion.includes(normalizedFaqQuestion)) {
                    // Specific handling for category questions to set context
                    if (normalizedFaqQuestion === "אילו קטגוריות ציוד קיימות") {
                        conversationContext.lastIntent = "categories_general";
                    } else {
                        conversationContext = {}; // Clear context for other direct matches
                    }
                    return question;
                }
            }

            // 6. חיפוש על פי מילות מפתח ב-FAQ
            for (let keyword in keywords) {
                if (normalizedQuestion.includes(keyword)) {
                    const match = keywords[keyword][0];
                    if (match && !match.startsWith("clarify_")) { // Avoid returning general clarification if specific product is not found
                        if (match === "אילו קטגוריות ציוד קיימות" || match === "כללי - קטגוריות") {
                            conversationContext.lastIntent = "categories_general";
                        } else {
                            conversationContext = {}; // Clear context for other keyword matches
                        }
                        return match;
                    }
                }
            }
            
            conversationContext = {}; // Clear context if no match found
            return null; // לא נמצאה התאמה
        }

        function addMessage(content, isUser = false, suggestions = []) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;

            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.innerHTML = isUser ? '<i class="fas fa-user"></i>' : '<i class="fas fa-robot"></i>';

            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = content.replace(/\n/g, '<br>');

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);

            if (suggestions.length > 0 && !isUser) { // Add suggestion buttons only for bot messages
                const suggestionContainer = document.createElement('div');
                suggestionContainer.className = 'suggestion-buttons';
                suggestions.forEach(sug => {
                    const btn = document.createElement('button');
                    btn.className = 'suggestion-btn';
                    btn.textContent = sug;
                    btn.onclick = () => askQuestion(sug);
                    suggestionContainer.appendChild(btn);
                });
                contentDiv.appendChild(suggestionContainer); // Append to contentDiv for better alignment
            }

            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTyping() {
            document.getElementById('typingIndicator').style.display = 'block';
            document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typingIndicator').style.display = 'none';
        }

        async function getBotResponse(userMessage) {
            const matched = await findBestMatch(userMessage);
            let responseText = "";
            let suggestions = [];

            if (matched === "greeting") {
                responseText = `שלום! 👋 אני עוזר הווירטואלי של **Renty**. איך אני יכול לעזור לך היום? 😊
                <br><br>
                אני כאן כדי לענות על שאלות בנושאי השכרת ציוד. אתה יכול לשאול אותי על:
                <br>• **מצב הציוד ואיכותו**
                <br>• **שעות פעילות ותמיכה**
                <br>• **קבלה והחזרת ציוד**
                <br>• **משלוחים ואיסוף**
                <br>• **הזמנות וביטולים**
                <br>• **קטגוריות ומוצרים ספציפיים**
                <br>• וגם, קצת על **Renty**!`;
                suggestions = ["אילו קטגוריות ציוד קיימות?", "מה זה Renty?", "איך מתבצעת השכרת ציוד?"];
            } else if (matched === "clarify_אוהל") {
                responseText = `תוכל/י לפרט איזה סוג **אוהל** את/ה מחפש/ת? למשל, **אוהל לשניים**, **אוהל לארבעה**, או **אוהל קמפינג גדול**?`;
                suggestions = ["אוהל לשניים", "אוהל לארבעה", "אוהל קמפינג גדול"];
            } else if (matched === "clarify_מזרן") {
                responseText = `מזרן לאיזו מטרה? **מזרן יוגה**, **מזרן ספורט**, או **מזרן לשינה/קמפינג**?`;
                suggestions = ["מזרן יוגה", "מזרן ספורט", "מזרן לשינה"];
            } else if (typeof matched === "object" && matched.type === "product") {
                const { name, info } = matched;
                responseText = `כן, יש לנו **${name}**! זהו ${info.description} תוכל/י למצוא אותו בקטגוריית **${info.category}** כאן: <a href='${info.link}' target='_blank'>לחץ/י כאן</a>.`;
                suggestions = [`עוד על ${info.category}`, "האם יש לכם מוצרים נוספים בקטגוריה זו?"];
            } else if (matched) {
                responseText = faqData[matched];

                // הוספת מידע ליצירת קשר לתשובות רלוונטיות
                if (matched.includes("תקלה") || matched.includes("נזק") || matched.includes("תמיכה") || matched.includes("קשר") || matched.includes("חירום")) {
                    responseText += '<br><br><div class="contact-info">לכל שאלה נוספת או צורך בעזרה, אל תהססו ליצור איתנו קשר:<br>📞 <a href="tel:+972501234567">050-123-4567</a><br>📧 <a href="mailto:info@renty.co.il">info@renty.co.il</a></div>';
                }

                // הצעות להמשך שיחה על בסיס התשובה
                if (matched === "אילו קטגוריות ציוד קיימות" || matched === "כללי - קטגוריות" || matched === "המשך - קטגוריות") {
                    suggestions = ["ציוד לבית הספר", "ציוד ספורט", "ציוד למטבח", "ציוד לתינוקות", "ציוד לאירועים", "ציוד קמפינג"];
                } else if (matched.includes("Renty") || matched.includes("למה לשכור")) {
                    suggestions = ["מה אפשר לשכור?", "איך עובדת ההשכרה?", "יש לכם סניפים?"];
                } else if (matched.includes("משלוח")) {
                    suggestions = ["כמה עולה משלוח?", "איך מחזירים ציוד?", "האם אפשר לאסוף עצמאית?"];
                } else if (matched.includes("מצב של הציוד")) {
                    suggestions = ["מה קורה אם הציוד מתקלקל?", "האם הציוד נקי?", "האם יש אחריות?"];
                }
            } else {
                // הודעה מתאימה אם אין תשובה מתאימה
                responseText = `אני מתנצל, אבל לא מצאתי תשובה לשאלה שלך "**${userMessage}**" במידע שברשותי. 😕
                <br><br>
                ייתכן שתוכל/י למצוא את המידע שאת/ה מחפש/ת בדרכים הבאות:
                <br>• נסה/י לנסח את השאלה מחדש.
                <br>• עיין/י ב**שאלות הנפוצות** למטה.
                <br>• בקרו ב**קטלוג המוצרים המלא** שלנו באתר.
                <br>• צרו קשר ישירות עם שירות הלקוחות שלנו. אנחנו זמינים לעזור בכל עת!
                <br><br>
                📞 <a href="tel:+972501234567">050-123-4567</a><br>📧 <a href="mailto:info@renty.co.il">info@renty.co.il</a>
                <br><br>
                באיזה נושא תרצה/י שאתמקד?`;
                suggestions = ["אילו קטגוריות ציוד קיימות?", "מה שעות הפעילות?", "איך יוצרים קשר?"];
            }
            return { text: responseText, suggestions: suggestions };
        }

        async function sendMessage() {
            const userInput = document.getElementById('userInput');
            const userMessage = userInput.value.trim();

            if (userMessage === "") return;

            addMessage(userMessage, true);
            userInput.value = '';

            showTyping();
            const botResponse = await getBotResponse(userMessage);
            
            setTimeout(() => {
                hideTyping();
                addMessage(botResponse.text, false, botResponse.suggestions);
            }, 1000); // Simulate typing delay
        }

        function askQuestion(question) {
            document.getElementById('userInput').value = question;
            sendMessage();
        }

        function handleEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
    </script>
	</body>
</html>
